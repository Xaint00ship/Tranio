# Tranio

**Требования:**
 1) Страница с полем для ввода ссылки и кнопкой или API для генерации.
 2) Страница со статистикой переходов по коротким ссылкам.
 3) Переход по сокращенной ссылке перенаправляет на оригинальный URL.
 4) Токен короткой ссылки должен быть длиной 6 символов и состоять из букв
(разного регистра) и цифр.
 5) Реализация на Django или Django Rest Framework.
 
---

**1.1 API.**       
*Список API методов:*  
- GetHashURL - позволяет получить сгенерированную короткую ссылку.  
- GetClicksNumShortURL - позволяет получить количество всех переходов.  
- GetClicksStat - позволяет получить количество всех переходов по дням.  
 
`GetHashURL:`   
**GET-запрос**: https://"host"/API/GetHashURL/"Your URL"       
Входящие параметры:
    
| Параметр      | Тип                | Описание                            | Пример            |
|-------------- |--------------------|-------------------------------------|-------------------|
| url           | path               | Ссылка, которую требуется укоротить |https://github.com/|

Данные ответа:

| Параметр      | Тип                | Описание                            | Пример            |
|-------------- |--------------------|-------------------------------------|-------------------|
| hash          | json               | Хеш укороченной ссылки              |{"hash":"ZTVkZG"}      |



`GetClicksNumShortURL:`   
**GET-запрос**: https://"host"/API/GetClicksNumShortURL/"hash"     
Входящие параметры:
    
| Параметр      | Тип                | Описание                            | Пример            |
|-------------- |--------------------|-------------------------------------|-------------------|
| hash        | string             | Хеш укороченной ссылки|ZTVkZG|

Данные ответа:

| Параметр      | Тип                | Описание                            | Пример            |
|-------------- |--------------------|-------------------------------------|-------------------|
| clicksList          | json               | Количество всех переходов за все время |{"clicks":10}        |



`GetClicksStat:`   
**GET-запрос**: https://"host"/API/GetClicksStat/"hash"    
Входящие параметры:
    
| Параметр      | Тип                | Описание                            | Пример                               |
|-------------- |--------------------|-------------------------------------|-------------------                   |
| hash          | string             | Хеш укороченной ссылки|ZTVkZG|

Данные ответа:

| Параметр      | Тип                | Описание                            | Пример            |
|-------------- |--------------------|-------------------------------------|-------------------|
| dateList          | json               | Количество всех переходов за все время по датам |{"2023-02-01": 7, "2023-02-02": 3, "2023-02-03": 16}        |

---

**1.2 Страница.**  
 - Страница доступна по ссылке: http://"host"/home/
 - Страница работает через API.
 - Реализовано поле для ввода "длинной ссылки".
 - Реализована кнопка для отправки на обработку "длинной ссылки".   
 При нажатии на кнопку, выполняется API-метод "GetHashURL".
 
---

 **2 Страница со статистикой.** 
 - Страница доступна по ссылке: http://"host"/home/
 - Страница работает через API.
 - Реализовано поле для ввода хеша или укороченной ссылки(127.0.0.1:8000/NjVjZj или NjVjZj).
 - Реализована кнопка для хеша.
 При нажатии на кнопку, выполняются API-методы "GetClicksNumShortURL" и "GetClicksStat".
 - Реализован график с отображением изменения переходов по дате.
 - Реализовано отображение всех переходов за все время.
 
 ---
 
  **3 Переход на ресурс.** 
  - При переходе по укороченной ссылке, срабатывает метод redirect() на основную ссылку.

---

**4 Генерация токена(хеша).**

 - Алгоритм генерации токена(хеша):
 1. Проход через хеш-функцию SHA-256.
 2. Обрезка с 0 по 10 символов.
 3. Проход через хеш-функцию Base64.
 4. Обрезка с 0 по 6 символ.


---

*Для тестов отображения количества переходов по дням, вы можете использовать ранее сгенерированные хеши:*   
- NjVjZj   
- OTU4OT   
- ZTVkZG   
